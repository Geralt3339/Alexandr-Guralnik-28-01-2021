webpackJsonp([1],{"7zck":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("router-view")],1)],1)},staticRenderFns:[]};var i=r("VU/8")({name:"App"},a,!1,function(t){r("vKlt")},null,null).exports,o=r("3EgV"),s=r.n(o);r("7zck");n.default.use(s.a);var c,u=new s.a({}),l=r("/ocq"),h=r("Xxa5"),v=r.n(h),f=r("exGp"),d=this,p=(c=r.n(f)()(v.a.mark(function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://dataservice.accuweather.com/"+e,n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t,d)})),function(t){return c.apply(this,arguments)}),m=function(t,e){return p("forecasts/v1/daily/5day/"+t+"?apikey="+ct+"&metric="+e)},y=new n.default,g={data:function(){return{theme:!1,imperialUnits:!1}},watch:{theme:function(t){this.$vuetify.theme.dark=t,this.$store.dispatch("currentTheme",t)},imperialUnits:function(t){this.$store.dispatch("unitSystem",!t),y.$emit("unit-system")}},created:function(){this.theme=this.$store.getters.getCurrentTheme,this.imperialUnits=!this.$store.getters.getUnitSystem,this.$vuetify.theme.dark=this.theme}},_={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{icon:""}},n),[r("v-icon",[t._v("mdi-menu")])],1)]}}])},[t._v(" "),r("v-list",[r("v-list-item-group",[r("v-list-item",[r("v-list-item-icon",[r("v-icon",[t._v("mdi-brightness-6")])],1),t._v(" "),r("v-list-item-title",[t._v("Dark theme")]),t._v(" "),r("v-list-item-action",{staticClass:"mr-3"},[r("v-switch",{staticClass:"ml-12",attrs:{"hide-details":""},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}})],1)],1),t._v(" "),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[t._v("mdi-ruler-square")])],1),t._v(" "),r("v-list-item-title",[t._v("Imperial Units")]),t._v(" "),r("v-list-item-action",{staticClass:"mr-3"},[r("v-switch",{staticClass:"ml-12",attrs:{"hide-details":""},model:{value:t.imperialUnits,callback:function(e){t.imperialUnits=e},expression:"imperialUnits"}})],1)],1)],1)],1)],1)},staticRenderFns:[]},F=r("VU/8")(g,_,!1,null,null,null).exports,L={props:{title:{type:String,default:"Weather task"}},components:{AppbarMenu:F},data:function(){return{links:[]}},created:function(){this.links=this.$store.getters.getAppbarLinks}},$={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app-bar",[r("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),r("v-spacer"),t._v(" "),t._l(t.links,function(e,n){return[r("v-btn",{key:n,attrs:{text:"","active-class":"router-link-active",to:e.path}},[t._v(t._s(e.name))])]}),t._v(" "),r("appbar-menu")],2)},staticRenderFns:[]},w={data:function(){return{isShown:!1,type:null,text:""}},created:function(){var t=this;y.$on("noti",function(e){t.isShown=!0,t.type=e.type?e.type:"success",t.text=e.text})},beforeDestroy:function(){y.$off("noti")}},x={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-snackbar",{attrs:{color:t.type,top:!0,right:!0,timeout:3e3},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[r("v-btn",t._b({attrs:{icon:""},on:{click:function(e){t.isShown=!1}}},"v-btn",n,!1),[r("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.isShown,callback:function(e){t.isShown=e},expression:"isShown"}},[t._v("\n  "+t._s(t.text)+"\n  ")])},staticRenderFns:[]},k={components:{appbar:r("VU/8")(L,$,!1,null,null,null).exports,notification:r("VU/8")(w,x,!1,null,null,null).exports}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("appbar"),this._v(" "),e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"10",offset:"1"}},[this._t("default")],2)],1)],1),this._v(" "),e("notification")],1)},staticRenderFns:[]},D=r("VU/8")(k,b,!1,null,null,null).exports,C={data:function(){return{model:null,search:null,isLoading:!1,items:[]}},watch:{search:function(t){var e,r=this;t&&t.length<2||(this.isLoading||(this.isLoading=!0,(e=t,p("locations/v1/cities/autocomplete?apikey="+ct+"&q="+e)).then(function(t){return t.json()}).then(function(t){r.items=t}).catch(function(){y.$emit("noti",{type:"error",text:"Sorry, the service is currently unavailable"})}).finally(function(){r.isLoading=!1})))},model:function(t){y.$emit("get-weather",t)}}},S={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-autocomplete",{attrs:{items:t.items,"item-text":"LocalizedName","item-value":"Key","search-input":t.search,loading:t.isLoading,placeholder:"Tel Aviv...","no-data-text":""==t.search?"Start typing...":"No results",outlined:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})},staticRenderFns:[]},U=r("VU/8")(C,S,!1,null,null,null).exports,W={props:{temperature:{type:String,default:"Unknown"},weatherIcon:{type:Number,default:0},location:{type:Object,required:!0}},computed:{iconURL:function(){return 1===String(this.weatherIcon).length?"https://developer.accuweather.com/sites/default/files/0"+this.weatherIcon+"-s.png":"https://developer.accuweather.com/sites/default/files/"+this.weatherIcon+"-s.png"}}},T={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{justify:"start"}},[r("v-col",{attrs:{cols:"6",sm:"3"}},[r("v-row",{staticClass:"mt-1",attrs:{justify:"center"}},[this.weatherIcon?r("v-img",{attrs:{height:"75px",width:"75px",src:t.iconURL}}):t._e()],1)],1),t._v(" "),r("v-col",{attrs:{cols:"6",md:"3"}},[r("p",{staticClass:"mt-2"},[r("strong",[t._v(t._s(t.location.name))])]),t._v(" "),r("p",{staticClass:"pa-0 ma-0"},[t._v("Temperature now: "+t._s(t.temperature))])])],1)},staticRenderFns:[]},R=r("VU/8")(W,T,!1,null,null,null).exports,j=r("Dd8w"),V=r.n(j),I={props:{location:{type:Object,required:!0},weather:{type:Object,required:!0}},data:function(){return{isFavorite:!1}},watch:{location:function(){var t=this;0!==this.$store.getters.getFavoriteLocations.filter(function(e){return e.key===t.location.key}).length?this.isFavorite=!0:this.isFavorite=!1}},created:function(){var t=this;0!==this.$store.getters.getFavoriteLocations.filter(function(e){return e.key===t.location.key}).length&&(this.isFavorite=!0)},updated:function(){var t=this;0!==this.$store.getters.getFavoriteLocations.filter(function(e){return e.key===t.location.key}).length?this.isFavorite=!0:this.isFavorite=!1},methods:{favoritesHandler:function(){this.isFavorite?(this.$store.dispatch("removeFavoriteLocation",this.location.key),this.isFavorite=!1):(this.$store.dispatch("addFavoriteLocation",V()({},this.location,this.weather)),this.isFavorite=!0)}}},E={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{align:"center"}},[r("v-col",[r("v-row",{staticClass:"pr-2",attrs:{justify:"center","justify-sm":"end",align:"center"}},[r("v-icon",{staticClass:"mr-2",attrs:{color:t.isFavorite?"error":"#808080"}},[t._v(t._s(t.isFavorite?"mdi-heart":"mdi-heart-outline"))]),t._v(" "),r("v-btn",{attrs:{depressed:"",color:"success"},on:{click:t.favoritesHandler}},[t._v(t._s(t.isFavorite?"Remove from favorites":"Add to Favorites"))])],1)],1)],1)},staticRenderFns:[]},O=r("VU/8")(I,E,!1,null,null,null).exports,A={props:{dayForecast:{type:Object,default:function(){return{}}}},data:function(){return{daysOfWeek:{}}},computed:{dayOfWeek:function(){if(this.dayForecast.Date){var t=new Date(this.dayForecast.Date);return this.daysOfWeek[t.getDay()]}return""},iconURL:function(){return this.dayForecast.Day&&1===String(this.dayForecast.Day.Icon).length?"https://developer.accuweather.com/sites/default/files/0"+this.dayForecast.Day.Icon+"-s.png":"https://developer.accuweather.com/sites/default/files/"+this.dayForecast.Day.Icon+"-s.png"}},created:function(){this.daysOfWeek=this.$store.getters.getDaysOfWeek}},M={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-col",{attrs:{cols:"6",sm:"4",md:"2"}},[r("v-card",{attrs:{width:"100%"}},[r("v-container",{staticClass:"text-center"},[r("p",[t._v(t._s(t.dayOfWeek))]),t._v(" "),r("p",[t._v(t._s(t.dayForecast.Temperature?Math.round(t.dayForecast.Temperature.Maximum.Value)+" "+t.dayForecast.Temperature.Maximum.Unit:""))]),t._v(" "),r("v-row",{staticClass:"mb-1"},[this.dayForecast.Day.Icon?r("v-img",{attrs:{src:t.iconURL}}):t._e()],1)],1)],1)],1)},staticRenderFns:[]},H={components:{Day:r("VU/8")(A,M,!1,null,null,null).exports},props:{forecastData:{type:Array,required:!0}},created:function(){var t=this;y.$on("five-days-forecast-update",function(){t.$forceUpdate()})},beforeDestroy:function(){y.$off("five-days-forecast-update")}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-row",{staticClass:"mb-2",attrs:{justify:"center"}},this._l(this.forecastData,function(t,r){return e("day",{key:r,attrs:{dayForecast:t}})}),1)},staticRenderFns:[]},N={components:{Today:R,Favorites:O,FiveDaysForecast:r("VU/8")(H,q,!1,null,null,null).exports},data:function(){return{currentWeather:null,currentLocation:null,fiveDaysForecast:{},isLoaded:!1}},computed:{parallaxHeight:function(){return"xs"===this.$vuetify.breakpoint.name?"900px":"600px"},temperature:function(){return this.$store.getters.getUnitSystem?this.currentWeather.temperature.celcius:this.currentWeather.temperature.fahrenheit}},created:function(){var t=this;this.isLoaded=!!this.$store.getters.getCurrentLocationWeather.temperature,this.currentWeather=this.$store.getters.getCurrentLocationWeather,this.fiveDaysForecast=this.$store.getters.getFiveDaysForecast,this.currentLocation=this.$store.getters.getCurrentLocation,y.$on("current-weather-update",function(){t.currentWeather=t.$store.getters.getCurrentLocationWeather,t.fiveDaysForecast=t.$store.getters.getFiveDaysForecast,t.currentLocation=t.$store.getters.getCurrentLocation,t.isLoaded=!0})},mounted:function(){var t=this;navigator.geolocation||this.currentWeather.temperature?this.currentWeather.temperature||navigator.geolocation.getCurrentPosition(function(e){var r,n=e.coords.latitude,a=e.coords.longitude;(r=n+","+a,p("locations/v1/cities/geoposition/search?apikey="+ct+"&q="+r)).then(function(t){return t.json()}).then(function(e){t.$store.dispatch("currentLocation",{key:e.Key,position:{latitude:e.GeoPosition.Latitude,longitude:e.GeoPosition.Longitude},name:e.LocalizedName}),t.currentLocation=t.$store.getters.getCurrentLocation,y.$emit("get-weather",e.Key)}).catch(function(){y.$emit("noti",{type:"error",text:"Sorry, the service is currently unavailable"})})},function(){y.$emit("noti",{type:"error",text:"Your current location is unavailable"})}):(this.$store.dispatch("currentLocation",{key:"215854",position:{latitude:32.045,longitude:34.77},name:"Tel Aviv"}),this.currentLocation=this.$store.getters.getCurrentLocation,y.$emit("get-weather",215854))},beforeDestroy:function(){y.$off("current-weather-update")}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticStyle:{height:"100%"}},[n("v-toolbar",{attrs:{dense:""}},[n("v-toolbar-title",[t._v("Forecast")])],1),t._v(" "),t.isLoaded?[n("v-parallax",{class:t.isLoaded?"parallax-justify-content-fix":"",attrs:{src:r("wevW"),height:t.parallaxHeight}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"12",sm:"6"}},[t.currentLocation.name?n("today",{staticClass:"text-border",attrs:{location:t.currentLocation,temperature:t.currentWeather.temperature?t.temperature:null,weatherIcon:t.currentWeather.weatherIcon?t.currentWeather.weatherIcon:null}}):t._e()],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("favorites",{attrs:{location:t.currentLocation,weather:t.currentWeather}})],1)],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-row",{staticClass:"mb-2 mt-2",attrs:{align:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("p",{staticClass:"text-center text-h2 text-border"},[t._v(t._s(t.currentWeather.weatherText))])])],1),t._v(" "),t.fiveDaysForecast.DailyForecasts?[n("five-days-forecast",{attrs:{forecastData:t.fiveDaysForecast.DailyForecasts}})]:t._e()],2)]:[n("v-container",[n("p",{staticClass:"text-center ma-6 text-h4 grey--text"},[t._v("Please wait, data is loading..")])])]],2)},staticRenderFns:[]};var G={name:"Home",components:{DefaultLayout:D,Forecast:r("VU/8")(N,P,!1,function(t){r("YdcF")},null,null).exports,AutocompleteSearch:U},data:function(){return{}},created:function(){var t=this;y.$on("unit-system",function(){m(t.$store.getters.getCurrentLocation.key,t.$store.getters.getUnitSystem).then(function(t){return t.json()}).then(function(e){t.$store.dispatch("currentFiveDaysForecast",e)}).catch(function(){y.$emit("noti",{type:"error",text:"Sorry, the service is currently unavailable"})}).finally(function(){y.$emit("current-weather-update")})}),y.$on("get-weather",function(e){(function(t){return p("locations/v1/"+t+"?apikey="+ct)})(e).then(function(t){return t.json()}).then(function(e){t.$store.dispatch("currentLocation",{key:e.Key,position:{latitude:e.GeoPosition.Latitude,longitude:e.GeoPosition.Longitude},name:e.LocalizedName})}).catch(function(){y.$emit("noti",{type:"error",text:"Sorry, the service is currently unavailable"})}),function(t){return p("currentconditions/v1/"+t+"?apikey="+ct)}(e).then(function(t){return t.json()}).then(function(e){t.$store.dispatch("currentLocationWeather",e[0])}).then(function(){m(e,t.$store.getters.getUnitSystem).then(function(t){return t.json()}).then(function(e){t.$store.dispatch("currentFiveDaysForecast",e)}).catch(function(){y.$emit("noti",{type:"error",text:"Sorry, the service is currently unavailable"})}).finally(function(){y.$emit("current-weather-update"),y.$emit("five-days-forecast-update")})}).catch(function(){y.$emit("noti",{type:"error",text:"Sorry, the service is currently unavailable"})})})},beforeMount:function(){this.$store.getters.getFiveDaysForecast.Headline&&y.$emit("unit-system")},beforeDestroy:function(){y.$off("unit-system"),y.$off("get-weather")}},K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("default-layout",[e("v-container",{staticClass:"pa-0"},[e("v-container",{staticClass:"pb-0 mb-0"},[e("v-row",[e("v-col",{attrs:{cols:"10",offset:"1",md:"6","offset-md":"3"}},[e("autocomplete-search")],1)],1)],1),this._v(" "),e("forecast",{staticClass:"mb-12"})],1)],1)},staticRenderFns:[]},z=r("VU/8")(G,K,!1,null,null,null).exports,Y={props:{locationData:{type:Object,required:!0}},computed:{iconURL:function(){return 1===String(this.locationData.weatherIcon).length?"https://developer.accuweather.com/sites/default/files/0"+this.locationData.weatherIcon+"-s.png":"https://developer.accuweather.com/sites/default/files/"+this.locationData.weatherIcon+"-s.png"}}},X={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[r("v-card",{attrs:{width:"100%"}},[r("v-container",{staticClass:"text-center"},[r("p",[r("strong",[t._v(t._s(t.locationData.name))])]),t._v(" "),r("v-img",{attrs:{src:t.iconURL}}),t._v(" "),r("p",[t._v(t._s(t.locationData.weatherText))]),t._v(" "),r("p",[t._v(t._s(t.$store.getters.getUnitSystem?t.locationData.temperature.celcius:t.locationData.temperature.fahrenheit))])],1)],1)],1)},staticRenderFns:[]},J={components:{Location:r("VU/8")(Y,X,!1,null,null,null).exports},data:function(){return{favorites:[]}},created:function(){this.favorites=this.$store.getters.getFavoriteLocations}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",[e("v-toolbar",{attrs:{dense:""}},[e("v-toolbar-title",[this._v("Favorite locations")])],1),this._v(" "),e("v-container",[this.favorites.length>0?e("v-row",{staticClass:"mt-1",attrs:{justify:"start"}},this._l(this.favorites,function(t,r){return e("location",{key:r,attrs:{locationData:t}})}),1):this._e()],1)],1)},staticRenderFns:[]},Q={name:"Favorites",components:{DefaultLayout:D,FavoriteLocations:r("VU/8")(J,B,!1,null,null,null).exports}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("default-layout",[e("v-container",[e("favorite-locations")],1)],1)},staticRenderFns:[]},tt=r("VU/8")(Q,Z,!1,null,null,null).exports,et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{staticClass:"text-center"},[e("p",{staticClass:"text-h1 error--text"},[this._v("404")]),this._v(" "),e("p",{staticClass:"text-h5"},[this._v("The page is not found :(")]),this._v(" "),e("router-link",{attrs:{to:"/"}},[this._v("Home")])],1)},staticRenderFns:[]},rt=r("VU/8")(null,et,!1,null,null,null).exports;n.default.use(l.a);var nt=new l.a({mode:"history",base:"/Alexandr-Guralnik-28-01-2021/",routes:[{path:"/",name:"Home",component:z},{path:"/favorites",name:"Favorites",component:tt},{path:"/favorites/*",redirect:"/favorites"},{path:"*",component:rt}]}),at=r("NYxO"),it=r("424j"),ot={state:{currentLocationWeather:{},fiveDaysForecast:{}},getters:{getCurrentLocationWeather:function(t){return t.currentLocationWeather},getFiveDaysForecast:function(t){return t.fiveDaysForecast}},mutations:{setCurrentLocationWeather:function(t,e){t.currentLocationWeather={precipitationType:e.PrecipitationType,weatherText:e.WeatherText,weatherIcon:e.WeatherIcon,temperature:{fahrenheit:e.Temperature.Imperial.Value+" F",celcius:Math.round(e.Temperature.Metric.Value)+" C"}}},setFiveDaysForecast:function(t,e){t.fiveDaysForecast=e}},actions:{currentLocationWeather:function(t,e){(0,t.commit)("setCurrentLocationWeather",e)},currentFiveDaysForecast:function(t,e){(0,t.commit)("setFiveDaysForecast",e)}}};n.default.use(at.a);var st=new at.a.Store({modules:{main:{state:{appbar:{links:[{name:"Home",path:"/"},{name:"Favorites",path:"/favorites"}]},daysOfWeek:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},configuration:{unitSystem:{isMetric:!0},theme:{dark:!1}}},getters:{getCurrentTheme:function(t){return t.configuration.theme.dark},getAppbarLinks:function(t){return t.appbar.links},getDaysOfWeek:function(t){return t.daysOfWeek},getUnitSystem:function(t){return t.configuration.unitSystem.isMetric}},mutations:{setTheme:function(t,e){t.configuration.theme.dark=e},setUnitSystem:function(t,e){t.configuration.unitSystem.isMetric=e}},actions:{currentTheme:function(t,e){(0,t.commit)("setTheme",e)},unitSystem:function(t,e){(0,t.commit)("setUnitSystem",e)}}},forecasts:ot,locations:{state:{currentLocation:{key:null,position:{latitude:null,longitude:null},name:""},favoriteLocations:[]},getters:{getCurrentLocation:function(t){return t.currentLocation},getFavoriteLocations:function(t){return t.favoriteLocations}},mutations:{setCurrentLocation:function(t,e){t.currentLocation=e},setFavoriteLocations:function(t,e){t.favoriteLocations=e}},actions:{currentLocation:function(t,e){(0,t.commit)("setCurrentLocation",e)},addFavoriteLocation:function(t,e){var r=t.commit,n=t.state.favoriteLocations;n.push(e),r("setFavoriteLocations",n)},removeFavoriteLocation:function(t,e){(0,t.commit)("setFavoriteLocations",t.state.favoriteLocations.filter(function(t){return t.key!==e}))}}}},plugins:[Object(it.a)()]});r("csSS");r.d(e,"apikey",function(){return ct}),n.default.config.productionTip=!1,new n.default({el:"#app",router:nt,vuetify:u,store:st,components:{App:i},template:"<App/>"});var ct="YEK1AgvrlTRe3Lg8eVFpUDGAccxMiuXe"},YdcF:function(t,e){},csSS:function(t,e){},vKlt:function(t,e){},wevW:function(t,e,r){t.exports=r.p+"static/img/clouds.0ed2047.jpg"}},["NHnr"]);
//# sourceMappingURL=app.29bf5fd15d0dd990a036.js.map